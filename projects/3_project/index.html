<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Fun with Filters and Frequencies | Cyprian Zander </title> <meta name="author" content="Cyprian Zander"> <meta name="description" content="Cyprian Zander"> <meta name="keywords" content="machine-learning, computer-science, berkeley, uc-berkeley, portfolio, research, data-science, software-engineering, academic, publications, artificial-intelligence, deep-learning, neural-networks, python, programming, algorithms, statistics, mathematics, cs-student, undergraduate, research-assistant, github, open-source, technical-writing, academic-website, personal-website, student-portfolio, cs180, cs61a, cs61b, cs70, cs188, cs189, launchpad, berkeley-launchpad, startup, entrepreneurship, technology, innovation, stem, education, university, california, bay-area, silicon-valley"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favico.ico?ba4125972f729e5643234e8f9a65339e"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://zanderfilet.github.io/projects/3_project/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Cyprian</span> Zander </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/books/">bookshelf </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/photography/">photography </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Fun with Filters and Frequencies</h1> <p class="post-description">Cyprian Zander</p> </header> <article> <h3 id="overview">Overview</h3> <p>In this project, I explored edge detection with finite differences and Gaussian smoothing, image sharpening with unsharp masking, hybrid images by mixing high and low frequencies, and multi-resolution blending with Gaussian and Laplacian stacks for seamless composites.</p> <hr> <h3 id="part-1-fun-with-filters">Part 1: Fun with Filters</h3> <h4 id="11-convolutions-from-scratch">1.1 Convolutions from Scratch</h4> <p>Convolutions are mathematical operations applied to images to extract features, such as edges. In this context, a kernel (or filter) slides across the image, performing element-wise multiplication and summation with the overlapping region at each position.</p> <p>I implemented two convolution methods from scratch in NumPy:</p> <ul> <li> <strong><code class="language-plaintext highlighter-rouge">convolve2d_np_four</code></strong>: For each pixel, the kernel is flipped and multiplied with the corresponding image patch using four nested loops, directly computing the convolution sum.</li> <li> <strong><code class="language-plaintext highlighter-rouge">convolve2d_np_two</code></strong>: This method improves efficiency by extracting a region from the padded image and computing the convolution sum with the flipped kernel using only two loops.</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def convolve2d_np_four(i, k):
    h, w = i.shape
    kh, kw = k.shape

    i_pad = np.pad(i, ((kh // 2, kh // 2), (kw // 2, kw // 2)), mode='constant', constant_values=0)
    
    k_flip = np.flip(k)

    out = np.zeros((h, w))
    for i in range(h):
        for j in range(w):
            for ki in range(kh):
                for kj in range(kw):
                    out[i, j] += i_pad[i + ki, j + kj] * k_flip[ki, kj]

    return out

def convolve2d_np_two(i, k):
    h, w = i.shape
    kh, kw = k.shape

    i_pad = np.pad(i, ((kh // 2, kh // 2), (kw // 2, kw // 2)), mode='constant', constant_values=0)
    
    k_flip = np.flip(k)

    out = np.zeros((h, w))
    for i in range(h):
        for j in range(w):
            roi = i_pad[i:i+kh, j:j+kw] # full pixel-wise convolution
            out[i, j] = np.sum(roi * k_flip)

    return out
</code></pre></div></div> <p>For clarity, padding is applied to the image to ensure that the convolution operation can be performed at the edges. Adding a border of zeros around the image allows the algorithm to apply the convolution at every pixel in the image. Flipping the kernel is necessary to perform convolution, rather than cross-correlation.</p> <h5 id="filters">Filters</h5> <p>Below are three sample kernels I used to convolve some images.</p> <div class="row"> <div class="col-sm"> <strong>D<sub>x</sub></strong> <p>This finite difference filter detects vertical edges by computing the difference between horizontal pixel intensities.</p> $$ D_x = \begin{bmatrix} 1 &amp; 0 &amp; -1 \end{bmatrix} $$ </div> <div class="col-sm"> <strong>D<sub>y</sub></strong> <p>This finite difference filter detects horizontal edges by computing the difference between vertical pixel intensities.</p> $$ D_y = \begin{bmatrix} 1 \\ 0 \\ -1 \end{bmatrix} $$ </div> <div class="col-sm"> <strong>Box Filter</strong> <p>This filter replaces each pixel with the average of its neighbors (blur).</p> $$ Box = \frac{1}{81} \begin{bmatrix} 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \end{bmatrix} $$ </div> </div> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/11/cyprian-480.webp 480w,/assets/img/cs180/p2/11/cyprian-800.webp 800w,/assets/img/cs180/p2/11/cyprian-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/11/cyprian.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/11/dx_filter_cyp-480.webp 480w,/assets/img/cs180/p2/11/dx_filter_cyp-800.webp 800w,/assets/img/cs180/p2/11/dx_filter_cyp-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/11/dx_filter_cyp.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dx" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/11/dy_filter_cyp-480.webp 480w,/assets/img/cs180/p2/11/dy_filter_cyp-800.webp 800w,/assets/img/cs180/p2/11/dy_filter_cyp-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/11/dy_filter_cyp.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dy" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/11/box_filter_cyp-480.webp 480w,/assets/img/cs180/p2/11/box_filter_cyp-800.webp 800w,/assets/img/cs180/p2/11/box_filter_cyp-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/11/box_filter_cyp.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="box filter" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">From left to right, the original, $D_x$ applied to it, then $D_y$, then the box filter.</p> <h4 id="efficiency-and-accuracy-of-convolution-implementations">Efficiency and Accuracy of Convolution Implementations</h4> <p>Here is a summary of the compute time I observed when performing the 9x9 box filter convolution on the above image, compared to scipy.signal.convolve2d as a benchmark, along with a comparison of differences to the output provided by the SciPy method.</p> <table> <thead> <tr> <th>Implementation</th> <th>Time Taken (s)</th> <th>Max Difference to SciPy</th> </tr> </thead> <tbody> <tr> <td>Four loops</td> <td>10.100</td> <td>1.44e-15</td> </tr> <tr> <td>Two loops</td> <td>0.956</td> <td>5.55e-16</td> </tr> <tr> <td>SciPy</td> <td>0.041</td> <td>0</td> </tr> </tbody> </table> <p>As can be seen, the maximum differences from the reference function are extremely small, which can be attributed to minor variations in floating-point precision.</p> <hr> <h4 id="12-finite-difference-operator">1.2 Finite Difference Operator</h4> <p>I used finite difference operators to compute the derivative of an image, highlighting regions with large intensity changes (what our eyes perceive as edges). By calculating the gradient magnitude from the \(D_x\) and \(D_y\) filters (by simply computing the magnitude of both filtered images combined), I produced a composite edge-detection image.</p> <p>For example, I first applied the \(D_x\) and \(D_y\) filters to the reference image shown on the left.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/11/cameraman-480.webp 480w,/assets/img/cs180/p2/11/cameraman-800.webp 800w,/assets/img/cs180/p2/11/cameraman-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/11/cameraman.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/12/cameraman_dx-480.webp 480w,/assets/img/cs180/p2/12/cameraman_dx-800.webp 800w,/assets/img/cs180/p2/12/cameraman_dx-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/12/cameraman_dx.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dx" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/12/cameraman_dy-480.webp 480w,/assets/img/cs180/p2/12/cameraman_dy-800.webp 800w,/assets/img/cs180/p2/12/cameraman_dy-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/12/cameraman_dy.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dy" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Original, $D_x$, $D_y$.</p> <p>Next, I computed the gradient magnitude between the two convolutions, as seen in the first image below, and manually set a threshold to isolate edges from noise.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/12/cameraman_gradient-480.webp 480w,/assets/img/cs180/p2/12/cameraman_gradient-800.webp 800w,/assets/img/cs180/p2/12/cameraman_gradient-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/12/cameraman_gradient.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Grad mag" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/12/cameraman_edges-480.webp 480w,/assets/img/cs180/p2/12/cameraman_edges-800.webp 800w,/assets/img/cs180/p2/12/cameraman_edges-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/12/cameraman_edges.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Binarized edges" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Gradient magnitude image, binarized edge image.</p> <p>I selected a pixel intensity threshold of 0.3 to classify edges. My reasoning was that I preferred to preserve edge continuity, even if it meant retaining some noise in the image. This threshold struck a healthy balance, eliminating most of the noise in the grass while almost perfectly maintaining the outline of the subject.</p> <p>Nevertheless, these edge detections still appear somewhat noisy, so in the next section I explore the use of Gaussian blurs to clean up the output.</p> <hr> <h4 id="13-derivative-of-gaussian-dog-filter">1.3 Derivative of Gaussian (DoG) Filter</h4> <p>To smooth our binarized edge image, I first applied a 2D Gaussian filter (outer product of a 1D Gaussian) to the original image before applying the \(D_x\) and \(D_y\) filters. Applying a Gaussian filter reduces high-frequency noise in the image, which helps the finite difference filters produce cleaner and more continuous edge detections. Below is each step in the procedure.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman-480.webp 480w,/assets/img/cs180/p2/13/cameraman-800.webp 800w,/assets/img/cs180/p2/13/cameraman-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_blurred-480.webp 480w,/assets/img/cs180/p2/13/cameraman_blurred-800.webp 800w,/assets/img/cs180/p2/13/cameraman_blurred-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_blurred.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Original, Right: Gaussian blur applied ($kernel~size = 15$, $\sigma=2$).</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_dx_blurred-480.webp 480w,/assets/img/cs180/p2/13/cameraman_dx_blurred-800.webp 800w,/assets/img/cs180/p2/13/cameraman_dx_blurred-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_dx_blurred.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Dx blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_dy_blurred-480.webp 480w,/assets/img/cs180/p2/13/cameraman_dy_blurred-800.webp 800w,/assets/img/cs180/p2/13/cameraman_dy_blurred-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_dy_blurred.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Dy blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: $D_x$ filter applied on blurred image, Right: $D_y$ filter applied on blurred image.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_grad_blurred-480.webp 480w,/assets/img/cs180/p2/13/cameraman_grad_blurred-800.webp 800w,/assets/img/cs180/p2/13/cameraman_grad_blurred-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_grad_blurred.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Grad mag blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_edge_blurred-480.webp 480w,/assets/img/cs180/p2/13/cameraman_edge_blurred-800.webp 800w,/assets/img/cs180/p2/13/cameraman_edge_blurred-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_edge_blurred.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Binarized edge blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Gradient magnitude composite, Right: Binarized edge image.</p> <p>The order of convolutions can also be changed, by first convolving the Gaussian blur with the finite difference filters to produce a Derivative of Gaussian filter (DoG). This works because convolution is a linear and shift-invariant operation, so the order of convolution can be rearranged. In other words, \((G * D_x) * I = (G * D_x) * I\), where $G$ is the Gaussian filter and $I$ is the image.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/derivative_gaussian_x-480.webp 480w,/assets/img/cs180/p2/13/derivative_gaussian_x-800.webp 800w,/assets/img/cs180/p2/13/derivative_gaussian_x-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/derivative_gaussian_x.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Grad mag blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/derivative_gaussian_y-480.webp 480w,/assets/img/cs180/p2/13/derivative_gaussian_y-800.webp 800w,/assets/img/cs180/p2/13/derivative_gaussian_y-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/derivative_gaussian_y.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Binarized edge blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: $D_x$ DoG, Right: $D_y$ DoG.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_dx_dog-480.webp 480w,/assets/img/cs180/p2/13/cameraman_dx_dog-800.webp 800w,/assets/img/cs180/p2/13/cameraman_dx_dog-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_dx_dog.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dx DoG" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_dy_dog-480.webp 480w,/assets/img/cs180/p2/13/cameraman_dy_dog-800.webp 800w,/assets/img/cs180/p2/13/cameraman_dy_dog-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_dy_dog.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dy DoG" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Original convolved on $D_x$ DoG, Right: Original convolved on $D_y$ DoG.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_grad_dog-480.webp 480w,/assets/img/cs180/p2/13/cameraman_grad_dog-800.webp 800w,/assets/img/cs180/p2/13/cameraman_grad_dog-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_grad_dog.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Grad mag DoG" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_edge_dog-480.webp 480w,/assets/img/cs180/p2/13/cameraman_edge_dog-800.webp 800w,/assets/img/cs180/p2/13/cameraman_edge_dog-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_edge_dog.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Binarized edge DoG" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Gradient magnitude composite, Right: Binarized edge image.</p> <table class="table table-bordered text-center"> <thead> <tr> <th>Comparison</th> <th>Max Difference</th> </tr> </thead> <tbody> <tr> <td>dx (DoG vs. Blurred)</td> <td>1.30e-15</td> </tr> <tr> <td>dy (DoG vs. Blurred)</td> <td>1.35e-15</td> </tr> </tbody> </table> <p>As before, the maximum differences between the DoG and blurred approaches are extremely small, which is simply variation in floating-point precision, confirming that the order of operations yields identical results.</p> <hr> <h3 id="part-2-fun-with-frequencies">Part 2: Fun with Frequencies</h3> <h4 id="21-image-sharpening-unsharp-mask">2.1 Image Sharpening (Unsharp Mask)</h4> <p>Next, I implemented an image sharpening technique, by creating an unsharp mask filter. It works by first blurring the original with a Gaussian filter, which is then subtracted from the original, isolating the high-frequency components. By adding more of these high frequencies scaled by some strength paramater into the original image, the unsharp mask filter pronounces edges, producing a ‘sharpening’ effect. Below are some examples.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/high_freq_taj-480.webp 480w,/assets/img/cs180/p2/21/high_freq_taj-800.webp 800w,/assets/img/cs180/p2/21/high_freq_taj-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/high_freq_taj.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Taj HF" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/taj-480.webp 480w,/assets/img/cs180/p2/21/taj-800.webp 800w,/assets/img/cs180/p2/21/taj-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/taj.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Taj original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/sharpened_taj-480.webp 480w,/assets/img/cs180/p2/21/sharpened_taj-800.webp 800w,/assets/img/cs180/p2/21/sharpened_taj-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/sharpened_taj.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Taj sharp" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: High-frequences, Center: Original Taj Mahal Right: Sharpened Taj Mahal (factor=1.2).</p> <p>Some more examples from my personal photo library:</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/high_freq_lv_billboard-480.webp 480w,/assets/img/cs180/p2/21/high_freq_lv_billboard-800.webp 800w,/assets/img/cs180/p2/21/high_freq_lv_billboard-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/high_freq_lv_billboard.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="lv_billboard HF" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/lv_billboard-480.webp 480w,/assets/img/cs180/p2/21/lv_billboard-800.webp 800w,/assets/img/cs180/p2/21/lv_billboard-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/lv_billboard.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="lv_billboard original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/sharpened_lv_billboard-480.webp 480w,/assets/img/cs180/p2/21/sharpened_lv_billboard-800.webp 800w,/assets/img/cs180/p2/21/sharpened_lv_billboard-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/sharpened_lv_billboard.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="lv_billboard sharp" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: High-frequences, Center: Original Las Vegas sign Right: Sharpened Las Vegas sign (factor=1.2).</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/high_freq_shenoy-480.webp 480w,/assets/img/cs180/p2/21/high_freq_shenoy-800.webp 800w,/assets/img/cs180/p2/21/high_freq_shenoy-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/high_freq_shenoy.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shenoy HF" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/shenoy-480.webp 480w,/assets/img/cs180/p2/21/shenoy-800.webp 800w,/assets/img/cs180/p2/21/shenoy-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/shenoy.jpeg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shenoy original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/sharpened_shenoy-480.webp 480w,/assets/img/cs180/p2/21/sharpened_shenoy-800.webp 800w,/assets/img/cs180/p2/21/sharpened_shenoy-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/sharpened_shenoy.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shenoy sharp" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: High-frequences, Center: Original Shenoy Right: Sharpened Shenoy (factor=3).</p> <p>Note: The last image is sharpened using a higher strength factor than the previous examples. While this increases the prominence of edges, it also amplifies high-frequency noise present in the image, producing a grainier appearance. This demonstrates that too much sharpening can enhance unwanted details and artifacts. For a final demonstration of the sharpening process, I intentionally blurred an image, then applied the unsharp mask to assess how well the original can be reconstructed. Results are below:</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/shake-480.webp 480w,/assets/img/cs180/p2/21/shake-800.webp 800w,/assets/img/cs180/p2/21/shake-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/shake.jpeg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shake original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/blurred_shake-480.webp 480w,/assets/img/cs180/p2/21/blurred_shake-800.webp 800w,/assets/img/cs180/p2/21/blurred_shake-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/blurred_shake.jpeg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shake blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/sharpened_blurred_shake-480.webp 480w,/assets/img/cs180/p2/21/sharpened_blurred_shake-800.webp 800w,/assets/img/cs180/p2/21/sharpened_blurred_shake-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/sharpened_blurred_shake.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shake resharpened" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Original, Center: Manually blurred input $(sn=8, \sigma=1)$ Shenoy Right: Sharpened blur (factor=2.5).</p> <hr> <h4 id="22-hybrid-images">2.2 Hybrid Images</h4> <p><strong>Task:</strong> Create hybrid images, show process for one, originals and results for others.</p> <p><strong>Code:</strong></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Paste your hybrid image code here
</span></code></pre></div></div> <p><strong>Results:</strong></p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/hybrid1-480.webp 480w,/assets/img/cs180/p2/hybrid1-800.webp 800w,/assets/img/cs180/p2/hybrid1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/hybrid1.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Hybrid Example 1" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/hybrid2-480.webp 480w,/assets/img/cs180/p2/hybrid2-800.webp 800w,/assets/img/cs180/p2/hybrid2-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/hybrid2.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Hybrid Example 2" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/hybrid3-480.webp 480w,/assets/img/cs180/p2/hybrid3-800.webp 800w,/assets/img/cs180/p2/hybrid3-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/hybrid3.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Hybrid Example 3" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><strong>Discussion:</strong></p> <hr> <h4 id="bells--whistles-color-hybrid-exploration">Bells &amp; Whistles: Color Hybrid Exploration</h4> <p><strong>Task:</strong> Explore color in hybrid images, justify choices.</p> <p><strong>Results &amp; Discussion:</strong></p> <hr> <h4 id="23-gaussian-and-laplacian-stacks">2.3 Gaussian and Laplacian Stacks</h4> <p><strong>Task:</strong> Implement and visualize stacks for blending.</p> <p><strong>Code:</strong></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Paste your stack code here
</span></code></pre></div></div> <p><strong>Results:</strong></p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/gaussian_stack-480.webp 480w,/assets/img/cs180/p2/gaussian_stack-800.webp 800w,/assets/img/cs180/p2/gaussian_stack-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/gaussian_stack.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Gaussian Stack" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/laplacian_stack-480.webp 480w,/assets/img/cs180/p2/laplacian_stack-800.webp 800w,/assets/img/cs180/p2/laplacian_stack-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/laplacian_stack.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Laplacian Stack" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><strong>Discussion:</strong></p> <hr> <h4 id="24-multiresolution-blending-oraple">2.4 Multiresolution Blending (Oraple)</h4> <p><strong>Task:</strong> Blend images with mask, show results for apple/orange and custom blends.</p> <p><strong>Code:</strong></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Paste your blending code here
</span></code></pre></div></div> <p><strong>Results:</strong></p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/oraple-480.webp 480w,/assets/img/cs180/p2/oraple-800.webp 800w,/assets/img/cs180/p2/oraple-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/oraple.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Oraple" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/custom_blend1-480.webp 480w,/assets/img/cs180/p2/custom_blend1-800.webp 800w,/assets/img/cs180/p2/custom_blend1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/custom_blend1.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Custom Blend 1" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/custom_blend2-480.webp 480w,/assets/img/cs180/p2/custom_blend2-800.webp 800w,/assets/img/cs180/p2/custom_blend2-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/custom_blend2.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Custom Blend 2" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><strong>Discussion:</strong></p> <hr> <h3 id="reflection-what-i-learned">Reflection: What I Learned</h3> <p><em>Summarize the most important thing you learned from this project.</em></p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Cyprian Zander. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>