<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Fun with Filters and Frequencies | Cyprian Zander </title> <meta name="author" content="Cyprian Zander"> <meta name="description" content="Cyprian Zander"> <meta name="keywords" content="machine-learning, computer-science, berkeley, uc-berkeley, portfolio, research, data-science, software-engineering, academic, publications, artificial-intelligence, deep-learning, neural-networks, python, programming, algorithms, statistics, mathematics, cs-student, undergraduate, research-assistant, github, open-source, technical-writing, academic-website, personal-website, student-portfolio, cs180, cs61a, cs61b, cs70, cs188, cs189, launchpad, berkeley-launchpad, startup, entrepreneurship, technology, innovation, stem, education, university, california, bay-area, silicon-valley"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favico.ico?ba4125972f729e5643234e8f9a65339e"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://zanderfilet.github.io/projects/3_project/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Cyprian</span> Zander </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/books/">bookshelf </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/photography/">photography </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Fun with Filters and Frequencies</h1> <p class="post-description">Cyprian Zander</p> </header> <article> <h3 id="overview">Overview</h3> <p>In this project, I explored edge detection with finite differences and Gaussian smoothing, image sharpening with unsharp masking, hybrid images by mixing high and low frequencies, and multi-resolution blending with Gaussian and Laplacian stacks for seamless composites.</p> <hr> <h3 id="part-1-fun-with-filters">Part 1: Fun with Filters</h3> <h4 id="11-convolutions-from-scratch">1.1 Convolutions from Scratch</h4> <p>Convolutions are mathematical operations applied to images to extract features, such as edges. In this context, a kernel (or filter) slides across the image, performing element-wise multiplication and summation with the overlapping region at each position.</p> <p>I implemented two convolution methods from scratch in NumPy:</p> <ul> <li> <strong><code class="language-plaintext highlighter-rouge">convolve2d_np_four</code></strong>: For each pixel, the kernel is flipped and multiplied with the corresponding image patch using four nested loops, directly computing the convolution sum.</li> <li> <strong><code class="language-plaintext highlighter-rouge">convolve2d_np_two</code></strong>: This method improves efficiency by extracting a region from the padded image and computing the convolution sum with the flipped kernel using only two loops.</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def convolve2d_np_four(i, k):
    h, w = i.shape
    kh, kw = k.shape

    i_pad = np.pad(i, ((kh // 2, kh // 2), (kw // 2, kw // 2)), mode='constant', constant_values=0)
    
    k_flip = np.flip(k)

    out = np.zeros((h, w))
    for i in range(h):
        for j in range(w):
            for ki in range(kh):
                for kj in range(kw):
                    out[i, j] += i_pad[i + ki, j + kj] * k_flip[ki, kj]

    return out

def convolve2d_np_two(i, k):
    h, w = i.shape
    kh, kw = k.shape

    i_pad = np.pad(i, ((kh // 2, kh // 2), (kw // 2, kw // 2)), mode='constant', constant_values=0)
    
    k_flip = np.flip(k)

    out = np.zeros((h, w))
    for i in range(h):
        for j in range(w):
            roi = i_pad[i:i+kh, j:j+kw] # full pixel-wise convolution
            out[i, j] = np.sum(roi * k_flip)

    return out
</code></pre></div></div> <p>For clarity, padding is applied to the image to ensure that the convolution operation can be performed at the edges. Adding a border of zeros around the image allows the algorithm to apply the convolution at every pixel in the image. Flipping the kernel is necessary to perform convolution, rather than cross-correlation.</p> <h5 id="filters">Filters</h5> <p>Below are three sample kernels I used to convolve some images.</p> <div class="row"> <div class="col-sm"> <strong>D<sub>x</sub></strong> <p>This finite difference filter detects vertical edges by computing the difference between horizontal pixel intensities.</p> $$ D_x = \begin{bmatrix} 1 &amp; 0 &amp; -1 \end{bmatrix} $$ </div> <div class="col-sm"> <strong>D<sub>y</sub></strong> <p>This finite difference filter detects horizontal edges by computing the difference between vertical pixel intensities.</p> $$ D_y = \begin{bmatrix} 1 \\ 0 \\ -1 \end{bmatrix} $$ </div> <div class="col-sm"> <strong>Box Filter</strong> <p>This filter replaces each pixel with the average of its neighbors (blur).</p> $$ Box = \frac{1}{81} \begin{bmatrix} 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \end{bmatrix} $$ </div> </div> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/11/cyprian-480.webp 480w,/assets/img/cs180/p2/11/cyprian-800.webp 800w,/assets/img/cs180/p2/11/cyprian-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/11/cyprian.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/11/dx_filter_cyp-480.webp 480w,/assets/img/cs180/p2/11/dx_filter_cyp-800.webp 800w,/assets/img/cs180/p2/11/dx_filter_cyp-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/11/dx_filter_cyp.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dx" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/11/dy_filter_cyp-480.webp 480w,/assets/img/cs180/p2/11/dy_filter_cyp-800.webp 800w,/assets/img/cs180/p2/11/dy_filter_cyp-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/11/dy_filter_cyp.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dy" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/11/box_filter_cyp-480.webp 480w,/assets/img/cs180/p2/11/box_filter_cyp-800.webp 800w,/assets/img/cs180/p2/11/box_filter_cyp-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/11/box_filter_cyp.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="box filter" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">From left to right, the original, $D_x$ applied to it, then $D_y$, then the box filter.</p> <h5 id="efficiency-and-accuracy-of-convolution-implementations">Efficiency and Accuracy of Convolution Implementations</h5> <p>Here is a summary of the compute time I observed when performing the 9x9 box filter convolution on the above image, compared to scipy.signal.convolve2d as a benchmark, along with a comparison of differences to the output provided by the SciPy method.</p> <table class="table table-bordered text-center"> <thead> <tr> <th>Implementation</th> <th>Time Taken (s)</th> <th>Max Difference to SciPy</th> </tr> </thead> <tbody> <tr> <td>Four loops</td> <td>10.100</td> <td>1.44e-15</td> </tr> <tr> <td>Two loops</td> <td>0.956</td> <td>5.55e-16</td> </tr> <tr> <td>SciPy</td> <td>0.041</td> <td>0</td> </tr> </tbody> </table> <p>As can be seen, the maximum differences from the reference function are extremely small, which can be attributed to minor variations in floating-point precision.</p> <hr> <h4 id="12-finite-difference-operator">1.2 Finite Difference Operator</h4> <p>I used finite difference operators to compute the derivative of an image, highlighting regions with large intensity changes (what our eyes perceive as edges). By calculating the gradient magnitude from the \(D_x\) and \(D_y\) filters (by simply computing the magnitude of both filtered images combined), I produced a composite edge-detection image.</p> <p>For example, I first applied the \(D_x\) and \(D_y\) filters to the reference image shown on the left.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/12/cameraman-480.webp 480w,/assets/img/cs180/p2/12/cameraman-800.webp 800w,/assets/img/cs180/p2/12/cameraman-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/12/cameraman.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/12/cameraman_dx-480.webp 480w,/assets/img/cs180/p2/12/cameraman_dx-800.webp 800w,/assets/img/cs180/p2/12/cameraman_dx-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/12/cameraman_dx.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dx" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/12/cameraman_dy-480.webp 480w,/assets/img/cs180/p2/12/cameraman_dy-800.webp 800w,/assets/img/cs180/p2/12/cameraman_dy-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/12/cameraman_dy.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dy" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Original, Center: $D_x$, Right: $D_y$.</p> <p>Next, I computed the gradient magnitude between the two convolutions, as seen in the first image below, and manually set a threshold to isolate edges from noise.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/12/cameraman_gradient-480.webp 480w,/assets/img/cs180/p2/12/cameraman_gradient-800.webp 800w,/assets/img/cs180/p2/12/cameraman_gradient-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/12/cameraman_gradient.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Grad mag" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/12/cameraman_edges-480.webp 480w,/assets/img/cs180/p2/12/cameraman_edges-800.webp 800w,/assets/img/cs180/p2/12/cameraman_edges-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/12/cameraman_edges.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Binarized edges" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Gradient magnitude image, Right: Binarized edge image.</p> <p>I selected a pixel intensity threshold of 0.3 to classify edges. My reasoning was that I preferred to preserve edge continuity, even if it meant retaining some noise in the image. This threshold struck a healthy balance, eliminating most of the noise in the grass while almost perfectly maintaining the outline of the subject.</p> <p>Nevertheless, these edge detections still appear somewhat noisy, so in the next section I explore the use of Gaussian blurs to clean up the output.</p> <hr> <h4 id="13-derivative-of-gaussian-dog-filter">1.3 Derivative of Gaussian (DoG) Filter</h4> <p>To smooth our binarized edge image, I first applied a 2D Gaussian filter (outer product of a 1D Gaussian) to the original image before applying the \(D_x\) and \(D_y\) filters. Applying a Gaussian filter reduces high-frequency noise in the image, which helps the finite difference filters produce cleaner and more continuous edge detections. Below is each step in the procedure.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/12/cameraman-480.webp 480w,/assets/img/cs180/p2/12/cameraman-800.webp 800w,/assets/img/cs180/p2/12/cameraman-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/12/cameraman.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_blurred-480.webp 480w,/assets/img/cs180/p2/13/cameraman_blurred-800.webp 800w,/assets/img/cs180/p2/13/cameraman_blurred-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_blurred.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Original, Right: Gaussian blur applied ($kernel~size = 15$, $\sigma=2$).</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_dx_blurred-480.webp 480w,/assets/img/cs180/p2/13/cameraman_dx_blurred-800.webp 800w,/assets/img/cs180/p2/13/cameraman_dx_blurred-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_dx_blurred.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Dx blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_dy_blurred-480.webp 480w,/assets/img/cs180/p2/13/cameraman_dy_blurred-800.webp 800w,/assets/img/cs180/p2/13/cameraman_dy_blurred-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_dy_blurred.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Dy blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: $D_x$ filter applied on blurred image, Right: $D_y$ filter applied on blurred image.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_grad_blurred-480.webp 480w,/assets/img/cs180/p2/13/cameraman_grad_blurred-800.webp 800w,/assets/img/cs180/p2/13/cameraman_grad_blurred-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_grad_blurred.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Grad mag blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_edge_blurred-480.webp 480w,/assets/img/cs180/p2/13/cameraman_edge_blurred-800.webp 800w,/assets/img/cs180/p2/13/cameraman_edge_blurred-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_edge_blurred.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Binarized edge blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Gradient magnitude composite, Right: Binarized edge image.</p> <p>The order of convolutions can also be changed, by first convolving the Gaussian blur with the finite difference filters to produce a Derivative of Gaussian filter (DoG). This works because convolution is a linear and shift-invariant operation, so the order of convolution can be rearranged. In other words, \((G * D_x) * I = (G * D_x) * I\), where $G$ is the Gaussian filter and $I$ is the image.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/derivative_gaussian_x-480.webp 480w,/assets/img/cs180/p2/13/derivative_gaussian_x-800.webp 800w,/assets/img/cs180/p2/13/derivative_gaussian_x-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/derivative_gaussian_x.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Grad mag blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/derivative_gaussian_y-480.webp 480w,/assets/img/cs180/p2/13/derivative_gaussian_y-800.webp 800w,/assets/img/cs180/p2/13/derivative_gaussian_y-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/derivative_gaussian_y.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Binarized edge blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: $D_x$ DoG, Right: $D_y$ DoG.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_dx_dog-480.webp 480w,/assets/img/cs180/p2/13/cameraman_dx_dog-800.webp 800w,/assets/img/cs180/p2/13/cameraman_dx_dog-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_dx_dog.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dx DoG" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_dy_dog-480.webp 480w,/assets/img/cs180/p2/13/cameraman_dy_dog-800.webp 800w,/assets/img/cs180/p2/13/cameraman_dy_dog-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_dy_dog.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dy DoG" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Original convolved on $D_x$ DoG, Right: Original convolved on $D_y$ DoG.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_grad_dog-480.webp 480w,/assets/img/cs180/p2/13/cameraman_grad_dog-800.webp 800w,/assets/img/cs180/p2/13/cameraman_grad_dog-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_grad_dog.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Grad mag DoG" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/13/cameraman_edge_dog-480.webp 480w,/assets/img/cs180/p2/13/cameraman_edge_dog-800.webp 800w,/assets/img/cs180/p2/13/cameraman_edge_dog-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/13/cameraman_edge_dog.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Binarized edge DoG" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Gradient magnitude composite, Right: Binarized edge image.</p> <table class="table table-bordered text-center"> <thead> <tr> <th>Comparison</th> <th>Max Difference</th> </tr> </thead> <tbody> <tr> <td>dx (DoG vs. Blurred)</td> <td>1.30e-15</td> </tr> <tr> <td>dy (DoG vs. Blurred)</td> <td>1.35e-15</td> </tr> </tbody> </table> <p>As before, the maximum differences between the DoG and blurred approaches are extremely small, which is simply variation in floating-point precision, confirming that the order of operations yields identical results.</p> <hr> <h3 id="part-2-fun-with-frequencies">Part 2: Fun with Frequencies</h3> <h4 id="21-image-sharpening-unsharp-mask">2.1 Image Sharpening (Unsharp Mask)</h4> <p>Next, I implemented an image sharpening technique, by creating an unsharp mask filter. It works by first blurring the original with a Gaussian filter, which is then subtracted from the original, isolating the high-frequency components. By adding more of these high frequencies scaled by some strength paramater into the original image, the unsharp mask filter pronounces edges, producing a ‘sharpening’ effect. Below are some examples.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/high_freq_taj-480.webp 480w,/assets/img/cs180/p2/21/high_freq_taj-800.webp 800w,/assets/img/cs180/p2/21/high_freq_taj-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/high_freq_taj.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Taj HF" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/taj-480.webp 480w,/assets/img/cs180/p2/21/taj-800.webp 800w,/assets/img/cs180/p2/21/taj-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/taj.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Taj original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/sharpened_taj-480.webp 480w,/assets/img/cs180/p2/21/sharpened_taj-800.webp 800w,/assets/img/cs180/p2/21/sharpened_taj-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/sharpened_taj.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Taj sharp" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: High frequencies, Center: Original Taj Mahal Right: Sharpened Taj Mahal ($factor=1.2$).</p> <p>Some more examples from my personal photo library:</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/high_freq_lv_billboard-480.webp 480w,/assets/img/cs180/p2/21/high_freq_lv_billboard-800.webp 800w,/assets/img/cs180/p2/21/high_freq_lv_billboard-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/high_freq_lv_billboard.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="lv_billboard HF" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/lv_billboard-480.webp 480w,/assets/img/cs180/p2/21/lv_billboard-800.webp 800w,/assets/img/cs180/p2/21/lv_billboard-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/lv_billboard.jpeg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="lv_billboard original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/sharpened_lv_billboard-480.webp 480w,/assets/img/cs180/p2/21/sharpened_lv_billboard-800.webp 800w,/assets/img/cs180/p2/21/sharpened_lv_billboard-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/sharpened_lv_billboard.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="lv_billboard sharp" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: High frequencies, Center: Original Las Vegas sign Right: Sharpened Las Vegas sign ($factor=1.2$).</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/high_freq_shenoy-480.webp 480w,/assets/img/cs180/p2/21/high_freq_shenoy-800.webp 800w,/assets/img/cs180/p2/21/high_freq_shenoy-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/high_freq_shenoy.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shenoy HF" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/shenoy-480.webp 480w,/assets/img/cs180/p2/21/shenoy-800.webp 800w,/assets/img/cs180/p2/21/shenoy-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/shenoy.jpeg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shenoy original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/sharpened_shenoy-480.webp 480w,/assets/img/cs180/p2/21/sharpened_shenoy-800.webp 800w,/assets/img/cs180/p2/21/sharpened_shenoy-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/sharpened_shenoy.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shenoy sharp" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: High frequencies, Center: Original Shenoy, Right: Sharpened Shenoy ($factor=3$).</p> <p>Note: The last image is sharpened using a higher strength factor than the previous examples. While this increases the prominence of edges, it also amplifies high-frequency noise present in the image, producing a grainier appearance. This demonstrates that too much sharpening can enhance unwanted details and artifacts. For a final demonstration of the sharpening process, I intentionally blurred an image, then applied the unsharp mask to assess how well the original can be reconstructed. Results are below:</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/shake-480.webp 480w,/assets/img/cs180/p2/21/shake-800.webp 800w,/assets/img/cs180/p2/21/shake-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/shake.jpeg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shake original" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/blurred_shake-480.webp 480w,/assets/img/cs180/p2/21/blurred_shake-800.webp 800w,/assets/img/cs180/p2/21/blurred_shake-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/blurred_shake.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shake blurred" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/21/sharpened_blurred_shake-480.webp 480w,/assets/img/cs180/p2/21/sharpened_blurred_shake-800.webp 800w,/assets/img/cs180/p2/21/sharpened_blurred_shake-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/21/sharpened_blurred_shake.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="shake resharpened" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Original, Center: Manually blurred input $(N=8, \sigma=1)$, Right: Sharpened blur ($factor=2.5$).</p> <hr> <h4 id="22-hybrid-images">2.2 Hybrid Images</h4> <p>Next, I created hybrid images by combining high and low frequency components from different images. The idea comes from the fact that human visual perception is sensitive to high frequencies when viewing images up close, but primarily detects low frequencies when viewing from a distance. By blending different frequency ranges between two images, a single image can show different subjects depending on the distance it is viewed at.</p> <p>The methodology works similarly to steps taken earlier. By applying a standard 2D Gaussian filter to extract low frequencies from one image, and creating a high-pass filter by subtracting the Gaussian-filtered version from the original image (equivalent to an impulse filter minus the Gaussian), we can overlay both outputs to produce the hybrid. Finding good cutoff frequencies (the $\sigma$ parameter for each Gaussian filter) requires some experimenting and really depends on the observer. For my implementation, I aligned image pairs using an alignment code (focussing on eye alignment for human subjects). Below is a rundown of the full process.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_high_cyp_low_flo/unaligned_high_cyp-480.webp 480w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/unaligned_high_cyp-800.webp 800w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/unaligned_high_cyp-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_high_cyp_low_flo/unaligned_high_cyp.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="cyprian unaligned" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_high_cyp_low_flo/unaligned_low_flo-480.webp 480w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/unaligned_low_flo-800.webp 800w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/unaligned_low_flo-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_high_cyp_low_flo/unaligned_low_flo.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="flo unaligned" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Cyprian (high pass), unaligned, Right: Florentin (low pass), unaligned.</p> <p>Then, I manually selected the alignment reference points on each image.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_high_cyp_low_flo/aligned_high_cyp-480.webp 480w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/aligned_high_cyp-800.webp 800w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/aligned_high_cyp-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_high_cyp_low_flo/aligned_high_cyp.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="cyprian aligned" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_high_cyp_low_flo/aligned_low_flo-480.webp 480w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/aligned_low_flo-800.webp 800w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/aligned_low_flo-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_high_cyp_low_flo/aligned_low_flo.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="flo aligned" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Cyprian, aligned, Right: Florentin, aligned.</p> <p>After some trial and error, I selected cutoff frequencies $\sigma_{low~pass} = 2.8,~\sigma_{high~pass} = 2.8$.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_high_cyp_low_flo/filtered_highpass_high_cyp-480.webp 480w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/filtered_highpass_high_cyp-800.webp 800w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/filtered_highpass_high_cyp-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_high_cyp_low_flo/filtered_highpass_high_cyp.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="cyprian high pass" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_high_cyp_low_flo/filtered_lowpass_low_flo-480.webp 480w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/filtered_lowpass_low_flo-800.webp 800w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/filtered_lowpass_low_flo-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_high_cyp_low_flo/filtered_lowpass_low_flo.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="flo low pass" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Cyprian, high pass, Right: Florentin low pass.</p> <p>Final overlayed output:</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_high_cyp_low_flo/final_hybrid-480.webp 480w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/final_hybrid-800.webp 800w,/assets/img/cs180/p2/22/results_high_cyp_low_flo/final_hybrid-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_high_cyp_low_flo/final_hybrid.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="cyprian flo hybrid" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Cyprentin.</p> <h5 id="fourier-transform-analysis">Fourier Transform Analysis</h5> <p>To get a better impression of how the hybrid image technique works, I analyzed the frequency content of each stage in the process. The Fourier transform visualizations show which spatial frequencies are present in each image. Low frequencies appear in the center, while high frequencies extend outward. This analysis reveals how our Gaussian and impulse filters isolate different frequency components.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/fft_FFT_Analysis/im1_gray-480.webp 480w,/assets/img/cs180/p2/22/fft_FFT_Analysis/im1_gray-800.webp 800w,/assets/img/cs180/p2/22/fft_FFT_Analysis/im1_gray-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/fft_FFT_Analysis/im1_gray.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="cyprian gray" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/fft_FFT_Analysis/im1_fft-480.webp 480w,/assets/img/cs180/p2/22/fft_FFT_Analysis/im1_fft-800.webp 800w,/assets/img/cs180/p2/22/fft_FFT_Analysis/im1_fft-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/fft_FFT_Analysis/im1_fft.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="cyprian fft" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/fft_FFT_Analysis/highpass_sigma2.8_gray-480.webp 480w,/assets/img/cs180/p2/22/fft_FFT_Analysis/highpass_sigma2.8_gray-800.webp 800w,/assets/img/cs180/p2/22/fft_FFT_Analysis/highpass_sigma2.8_gray-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/fft_FFT_Analysis/highpass_sigma2.8_gray.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="cyprian high pass gray" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/fft_FFT_Analysis/highpass_sigma2.8_fft-480.webp 480w,/assets/img/cs180/p2/22/fft_FFT_Analysis/highpass_sigma2.8_fft-800.webp 800w,/assets/img/cs180/p2/22/fft_FFT_Analysis/highpass_sigma2.8_fft-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/fft_FFT_Analysis/highpass_sigma2.8_fft.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="cyprian high pass fft" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/fft_FFT_Analysis/im2_gray-480.webp 480w,/assets/img/cs180/p2/22/fft_FFT_Analysis/im2_gray-800.webp 800w,/assets/img/cs180/p2/22/fft_FFT_Analysis/im2_gray-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/fft_FFT_Analysis/im2_gray.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="flo gray" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/fft_FFT_Analysis/im2_fft-480.webp 480w,/assets/img/cs180/p2/22/fft_FFT_Analysis/im2_fft-800.webp 800w,/assets/img/cs180/p2/22/fft_FFT_Analysis/im2_fft-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/fft_FFT_Analysis/im2_fft.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="flo fft" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/fft_FFT_Analysis/lowpass_sigma2.8_gray-480.webp 480w,/assets/img/cs180/p2/22/fft_FFT_Analysis/lowpass_sigma2.8_gray-800.webp 800w,/assets/img/cs180/p2/22/fft_FFT_Analysis/lowpass_sigma2.8_gray-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/fft_FFT_Analysis/lowpass_sigma2.8_gray.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="flo low pass gray" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/fft_FFT_Analysis/lowpass_sigma2.8_fft-480.webp 480w,/assets/img/cs180/p2/22/fft_FFT_Analysis/lowpass_sigma2.8_fft-800.webp 800w,/assets/img/cs180/p2/22/fft_FFT_Analysis/lowpass_sigma2.8_fft-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/fft_FFT_Analysis/lowpass_sigma2.8_fft.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="flo low pass fft" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/fft_FFT_Analysis/combined_gray-480.webp 480w,/assets/img/cs180/p2/22/fft_FFT_Analysis/combined_gray-800.webp 800w,/assets/img/cs180/p2/22/fft_FFT_Analysis/combined_gray-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/fft_FFT_Analysis/combined_gray.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="combined gray" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/fft_FFT_Analysis/combined_fft-480.webp 480w,/assets/img/cs180/p2/22/fft_FFT_Analysis/combined_fft-800.webp 800w,/assets/img/cs180/p2/22/fft_FFT_Analysis/combined_fft-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/fft_FFT_Analysis/combined_fft.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="combined fft" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>In the original images, the full spectrum of frequencies can be observed. When we apply the high-pass filter to Cyprian’s image, the FFT shows that low frequencies (near the center) are attenuated, leaving only the high-frequency edge information that defines facial features and fine details. Conversely, the low-pass filter applied to Florentin’s image preserves the central low frequencies while removing the high-frequency details. The combined hybrid image’s FFT shows how the two filtered images produce complementary frequency ranges.</p> <h5 id="additional-examples">Additional Examples</h5> <p>Below are more examples of hybrid images using the same methodology.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_high_jj_low_khan/aligned_high_jj-480.webp 480w,/assets/img/cs180/p2/22/results_high_jj_low_khan/aligned_high_jj-800.webp 800w,/assets/img/cs180/p2/22/results_high_jj_low_khan/aligned_high_jj-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_high_jj_low_khan/aligned_high_jj.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="JJ source" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_high_jj_low_khan/aligned_low_khan-480.webp 480w,/assets/img/cs180/p2/22/results_high_jj_low_khan/aligned_low_khan-800.webp 800w,/assets/img/cs180/p2/22/results_high_jj_low_khan/aligned_low_khan-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_high_jj_low_khan/aligned_low_khan.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Khan source" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_high_jj_low_khan/final_hybrid-480.webp 480w,/assets/img/cs180/p2/22/results_high_jj_low_khan/final_hybrid-800.webp 800w,/assets/img/cs180/p2/22/results_high_jj_low_khan/final_hybrid-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_high_jj_low_khan/final_hybrid.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="JJ-Khan hybrid" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">JJ and Khan hybrid: High frequencies from JJ, low frequencies from Khan ($\sigma_1=8, \sigma_2=2.5, \alpha=0.9$).</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/aligned_nutmeg-480.webp 480w,/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/aligned_nutmeg-800.webp 800w,/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/aligned_nutmeg-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/aligned_nutmeg.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Cat source" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/aligned_DerekPicture-480.webp 480w,/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/aligned_DerekPicture-800.webp 800w,/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/aligned_DerekPicture-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/aligned_DerekPicture.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Derek source" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/final_hybrid-480.webp 480w,/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/final_hybrid-800.webp 800w,/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/final_hybrid-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/results_nutmeg_DerekPicture/final_hybrid.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Cat-Derek hybrid" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Nutmeg and Derek hybrid: High frequencies from cat (Nutmeg), low frequencies from Derek ($\sigma_1=8, \sigma_2=1.5, \alpha=0.9$).</p> <hr> <h4 id="23-gaussian-and-laplacian-stacks">2.3 Gaussian and Laplacian Stacks</h4> <p>In the next step of this project, I worked on blending two images seamlessly by applying a smoothed mask to lower frequencies and an unsmoothed mask to the highest frequencies. The effect of this approach is that coarser features, whose changes are easily noticeable to the eye, must be gradually blended, while finer features should be more aggressively blended to avoid perceiving blur artifacts. To accomplish this, I first isolated $N$ distinct frequency ranges for each of the two images being blended. This can be achieved by repeatedly applying Gaussian blur starting from each original image to form a Gaussian stack, then subtracting each $(i+1)$-th layer from the $i$-th layer to form a Laplacian stack. The last element in the Laplacian stack is simply the residual Gaussian blur. With these frequency decompositions, we can apply increasingly smoothed masks as we move toward coarser features.</p> <h5 id="naive-apprach">Naive Apprach</h5> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/apple-480.webp 480w,/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/apple-800.webp 800w,/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/apple-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/apple.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Cat source" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/orange-480.webp 480w,/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/orange-800.webp 800w,/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/orange-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/orange.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Derek source" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Reference images we want to blend.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/mask-480.webp 480w,/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/mask-800.webp 800w,/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/mask-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/mask.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Cat source" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/naive_blend-480.webp 480w,/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/naive_blend-800.webp 800w,/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/naive_blend-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/naive_blend.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Derek source" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Mask applied, Right: naive blend.</p> <p>As we can see, simply “blending” both images by applying a uniform unsmoothed mask to both images produces an immediately identifiable stitch.</p> <h5 id="gaussian-stack">Gaussian Stack</h5> <p>Below is the Gaussian stack for both images, $N = 4$.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_0-480.webp 480w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_0-800.webp 800w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_0-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_0.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 0" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_0-480.webp 480w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_0-800.webp 800w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_0-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_0.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 0" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 0.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_1-480.webp 480w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_1-800.webp 800w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 1" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_1-480.webp 480w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_1-800.webp 800w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 1" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 1.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_2-480.webp 480w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_2-800.webp 800w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_2-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 2" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_2-480.webp 480w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_2-800.webp 800w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_2-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 2" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 2.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_3-480.webp 480w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_3-800.webp 800w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_3-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Apple_Stacks/gaussian_level_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 3" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_3-480.webp 480w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_3-800.webp 800w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_3-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Orange_Stacks/gaussian_level_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 3" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 3.</p> <h5 id="laplacian-stack">Laplacian Stack</h5> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_0-480.webp 480w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_0-800.webp 800w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_0-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_0.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 0" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_0-480.webp 480w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_0-800.webp 800w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_0-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_0.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 0" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 0.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_1-480.webp 480w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_1-800.webp 800w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 1" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_1-480.webp 480w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_1-800.webp 800w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 1" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 1.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_2-480.webp 480w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_2-800.webp 800w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_2-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 2" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_2-480.webp 480w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_2-800.webp 800w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_2-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 2" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 2.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_3-480.webp 480w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_3-800.webp 800w,/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_3-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Apple_Stacks/laplacian_level_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 3" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_3-480.webp 480w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_3-800.webp 800w,/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_3-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/stacks_Orange_Stacks/laplacian_level_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 3" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 3.</p> <p>Now, onto multiresolution blending.</p> <hr> <h4 id="24-multiresolution-blending">2.4 Multiresolution Blending</h4> <p>Applying the above vertical mask with increasing smoothing as we increase levels in the stack, we get the following level-by-level masked apples, oranges (using the inverse of the filter) and combined images.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_0-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_0-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_0-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_0.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 0" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_0-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_0-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_0-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_0.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 0" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_0-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_0-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_0-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_0.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="blended level 0" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 0.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_1-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_1-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 1" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_1-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_1-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 1" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_1-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_1-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="blended level 1" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 1.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_2-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_2-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_2-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 2" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_2-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_2-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_2-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 2" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_2-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_2-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_2-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="blended level 2" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 2.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_3-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_3-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_3-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/image1_level_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 3" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_3-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_3-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_3-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/image2_level_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="orange level 3" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_3-480.webp 480w,/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_3-800.webp 800w,/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_3-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/multires_blend_levels_4/blended_level_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="blended level 3" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Level 3.</p> <p>The key insight that makes multiresolution blending work at this stage is the additive property of Laplacian stacks. When we construct a Laplacian stack by computing differences between consecutive Gaussian levels, we create a frequency decomposition where each level contains a specific band of spatial frequencies. The crucial property is that the sum of all Laplacian levels perfectly reconstructs the original image.</p> <p>If we have Gaussian levels $G_0, G_1, G_2, \ldots, G_N$ and Laplacian levels $L_0, L_1, L_2, \ldots, L_N$ where $L_i = G_i - G_{i+1}$ for $i = 0, 1, \ldots, N-1$ and $L_N = G_N$</p> <p>Then $\sum_{i=0}^{N} L_i = L_0 + L_1 + L_2 + \cdots + L_N = G_0$</p> <p>In short, we simply needed to add all layers of the stack together for the final blend:</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/multiresolution_output-480.webp 480w,/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/multiresolution_output-800.webp 800w,/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/multiresolution_output-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_apple_orange_Vertical_Blend/multiresolution_output.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="apple level 3" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">The Oraple.</p> <h5 id="more-examples">More Examples</h5> <p>Here are some more fun examples I developed.</p> <h5 id="beach-with-mountains-on-the-horizon">Beach with mountains on the horizon</h5> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/mountains-480.webp 480w,/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/mountains-800.webp 800w,/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/mountains-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/mountains.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="mountains" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/beach-480.webp 480w,/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/beach-800.webp 800w,/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/beach-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/beach.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="beach" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/mask-480.webp 480w,/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/mask-800.webp 800w,/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/mask-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/mask.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="mask" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Image 1, mountains, Center: Image 2, a beach, Right: Horizontal mask applied.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/multiresolution_output-480.webp 480w,/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/multiresolution_output-800.webp 800w,/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/multiresolution_output-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_mountains_beach_Horizontal_Blend/multiresolution_output.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="mountains" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Beach with mountains on the horizon.</p> <p>Interesting about this photo is how the coarse blend of the mountains looks like a shadow of the mountains on the water.</p> <h5 id="electric-bubble">Electric bubble</h5> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/sparks-480.webp 480w,/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/sparks-800.webp 800w,/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/sparks-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/sparks.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="sparks" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/bubbles-480.webp 480w,/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/bubbles-800.webp 800w,/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/bubbles-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/bubbles.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="bubbles" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/mask-480.webp 480w,/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/mask-800.webp 800w,/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/mask-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/mask.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="mask" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Left: Image 1, sparks, Center: Image 2, bubbles, Right: circular mask applied.</p> <p>For this image, I wanted to create a slight variation of the blending approach, by only going for a 2-band blending and excluding the last Laplacian layer of the sparks image to remove the blue background.</p> <div class="row"> <div class="col-sm"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/multiresolution_output-480.webp 480w,/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/multiresolution_output-800.webp 800w,/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/multiresolution_output-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/cs180/p2/22/blend_sparks_bubbles_Circular_Blend/multiresolution_output.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="electric bubbles" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p class="text-center">Electric bubble.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Cyprian Zander. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>